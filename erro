tool recieved
-- query_ansibleplus_rag

from langchain_mcp_adapters.client import MultiServerMCPClient

# Point this to your running AnsiblePlus MCP server
client = MultiServerMCPClient({
    "ansibleplus": {
        "url": "http://localhost:8080/mcp/",
        "transport": "streamable_http"
    }
})

async def ansibleplus_rag_stub(context: str, question: str, session_id: str):
    try:
        print(f"tool invoked")
        tools = await client.get_tools()
        print("tool recieved")
        for tool in tools:
            print("--",tool.name)
        response = await client.query(
            tool="ansibleplus.query_ansibleplus_rag",
            input={
                "context": context,
                "question": question,
                "session_id": session_id
            }
        )
        return response
    except Exception as e:
        return {"status": "error", "message": str(e)}
